# This file was generated by GoReleaser. DO NOT EDIT.
cask "indev" do
  name "indev"
  desc "A CLI for managing developer platform resources."
  homepage "https://developers.intility.com"
  version "0.9.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "indev"
  bash_completion "completions/indev.bash"
  zsh_completion "completions/indev.zsh"
  fish_completion "completions/indev.fish"

  on_macos do
    on_intel do
      url "https://github.com/intility/indev/releases/download/v#{version}/indev_darwin_x86_64.tar.gz",
        header: [
          "Accept: application/octet-stream",
          "Authorization: bearer #{ENV["DOWNLOADER_GITHUB_TOKEN"]}",
        ]
      sha256 "f90f9541365be2c5f0b82b106bd913de7d7092f90a193e620f694feaeaf0a388"
    end
    on_arm do
      url "https://github.com/intility/indev/releases/download/v#{version}/indev_darwin_arm64.tar.gz",
        header: [
          "Accept: application/octet-stream",
          "Authorization: bearer #{ENV["DOWNLOADER_GITHUB_TOKEN"]}",
        ]
      sha256 "7d4b39442d4e68ec72bd6bcd0744f645fabe4f703ecc4d299d3f1cbe37f8e393"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/intility/indev/releases/download/v#{version}/indev_linux_x86_64.tar.gz",
        header: [
          "Accept: application/octet-stream",
          "Authorization: bearer #{ENV["DOWNLOADER_GITHUB_TOKEN"]}",
        ]
      sha256 "578c58c14c90a629122bd6ab8ba166e740b83b0959955f31b65c19c9ad9dc84f"
    end
    on_arm do
      url "https://github.com/intility/indev/releases/download/v#{version}/indev_linux_arm64.tar.gz",
        header: [
          "Accept: application/octet-stream",
          "Authorization: bearer #{ENV["DOWNLOADER_GITHUB_TOKEN"]}",
        ]
      sha256 "45c61dfb06f3ee96dc2db4ba353647c86f13f6a9ab841064e56611aa511e0e28"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/indev"]
    end
  end

  # No zap stanza required
end
